<html>
<!-- show that you can swipe -->
<!-- give it a title -->
<head>
	<title>Restaurant Tinder</title>
	<link rel="stylesheet" type="text/css" href="static/css/style.css?q={{time}}" />
    <!-- Bootstrap -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
		integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" 
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <!-- Swiper -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.css">
	<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
	<script src="https://unpkg.com/swiper/swiper-bundle.js"></script>
	<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>     
	<style>
		body {
			text-align: center;
		}
        .card {
            margin: 0 auto;
        }
        ul {
            padding-left: 0;
            list-style: inside;
        }
        .frame {
            height: 600px;
            background: transparent no-repeat center;
            background-size: cover;
        }
        .hidden {
            opacity: 0;
        }
        #categories {
            display: inline;
        }
        #no {
            height: 600px;
            background: red;
        }
        #yes {
            height; 600px;
            background: green;
        }
	</style>
</head>

<body>
    <div class="accordion" id="accordionExample">
        <div class="card">
            <div class="card-header" id="headingOne">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-center collapsed" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                        Hungry? We Got You.
                    </button>
                </h2>
            </div>
            <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="card-body">
                    <!-- Testing -->
                    <!-- <form method="post" action="/index">
                        <label for="term">Enter a term:</label><br>
                        <input type="text" name="term" placeholder="Like Mexican!"><br><br>
                        <label for="loc">Enter a location:</label><br>
                        <input type="text" name="loc" placeholder="Like NYC!"><br><br>
                        <input class="hidden" type="checkbox" id="term" name="term" value="Chinese">
                        <label for="term">
                            <div class="container">
                                <img id="term" type="button" data-toggle="button" aria-pressed="false" class="btn btn-primary stretched-link fb" src="https://duyt4h9nfnj50.cloudfront.net/sku/0bc9ca19a02e3bd03f2395c8cf8a3e0c" class="card-img-top" alt="Chinese">
                                <h5 class = "center"> Chinese </h5>
                            </div>
                        </label><br>
                        <input type="hidden" name="formType" value="initial">
                        <input type="submit" value="Submit"/>
                    </form> -->
                    <form method="post" action="/index">
                        <input type="hidden" name="formType" value="initial">
                        <div class = "container">
                            <div class = "s1">
                                <label for="loc">Enter a Location</label><br>
                                <input type="text" name="loc"><br>
                            </div><br>
                            <div class="container">
                                <label for="term">Enter a Type</label><br>
                                <input type="text" name="term"><br>
                            </div>
                        </div><br>
                        <div class="container">
                            <p>Or Explore These Near You</p>
                            <div class="row">
                                <div class="col">
                                    <input class="hidden" type="checkbox" id="term1" name="term1" value="{{terms[0]}}">
                                    <label for="term1">
                                        <img id="term" type="button" data-toggle="button" aria-pressed="false" class="btn btn-primary stretched-link" src="{{photos[0]}}" alt="Chinese">
                                        <h5 class = "center">{{terms[0]}}</h5>
                                    </label><br>
                                </div>
                                <div class="col">
                                    <input class="hidden" type="checkbox" id="term2" name="term2" value="{{terms[1]}}">
                                    <label for="term2">
                                        <img id="term" type="button" data-toggle="button" aria-pressed="false" class="btn btn-primary stretched-link" src="{{photos[1]}}" alt="Chinese">
                                        <h5 class = "center">{{terms[1]}}</h5>
                                    </label><br>
                                </div>
                                <div class="col">
                                    <input class="hidden" type="checkbox" id="term3" name="term3" value="{{terms[2]}}">
                                    <label for="term3">
                                        <img id="term" type="button" data-toggle="button" aria-pressed="false" class="btn btn-primary stretched-link" src="{{photos[2]}}" alt="Chinese">
                                        <h5 class = "center">{{terms[2]}}</h5>
                                    </label><br>
                                </div>
                            </div>
                        </div>
                        <input type="submit" value="Submit">
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div class="swiper-container" id="results">
        <div class="swiper-wrapper">
            <div class="swiper-slide" style="width: 150px;">
                <form method="post" action="/index" name="No">
                    <div class="card" style="width: 50rem;">
                        <div id="no" class="card-img-top">
                           <i class="far fa-times-circle fa-5x" style="font-size: 500px; color: white;"></i>
                        </div>
                        <div class="card-body">
                            <h1 class="card-text">No!</h1>
                        </div>
                    </div>
                    <input type="hidden" name="formType" value="no">
                </form>
            </div>
            <div class="swiper-slide">
                <div class="card" style="width: 50rem;">
                    <div class="card-img-top">
                        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                            <ol class="carousel-indicators">
                                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                            </ol>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <!-- <img src="{{img1}}" class="d-block w-100" alt="Restaurant Image 1"> -->
                                    <div class="frame" style="background-image: url({{img1}})"></div>
                                </div>
                                <div class="carousel-item">
                                    <!-- <img src="{{img2}}" class="d-block w-100" alt="Restaurant Image 2"> -->
                                    <div class="frame" style="background-image: url({{img2}})"></div>
                                </div>
                                <div class="carousel-item">
                                    <!-- <img src="{{img3}}" class="d-block w-100" alt="Restaurant Image 3"> -->
                                    <div class="frame" style="background-image: url({{img3}})"></div>
                                </div>
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{name}} {{price}}</h5>
                        <img src={{rating}} alt="rating">
                        <p>Based on {{reviewCount}} Reviews</p>
                        <ul>
                            {% for item in categories %}
                            <li id="categories">&#183 {{item.title}}</li>
                            {% endfor %}
                        </ul>
                        <p class="card-text">{{address}}</p>
                        <iframe
                            frameborder="0" style="border:0"
                            src="https://www.google.com/maps/embed/v1/place?key={{KEY}}
                            &q={{name}}" allowfullscreen>
                        </iframe>
                    </div>
                </div>
            </div>
            <div class="swiper-slide" style="width: 150px;">
                <form method="post" action="/index" name="Yes">
                    <div class="card" style="width: 50rem;">
                        <div id="yes" class="card-img-top">
                           <i class="far fa-check-circle fa-5x" style="font-size: 500px; color: white;"></i>
                        </div>
                        <div class="card-body">
                            <h1 class="card-text">Yes!</h1>
                        </div>
                    </div>
                    <input type="hidden" name="formType" value="yes">
                </form>
            </div>
        </div>
        <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
    </div>

    <script>
	var mySwiper = new Swiper('.swiper-container', {
        initialSlide: 1,
        effect: 'flip',
        flipEffect: {
            slideShadows: false,
        },
        threshold: 25,
    });
    <!-- slideChange is more rigid -->
    mySwiper.on('slideNextTransitionEnd', function () {
        console.log('Next');
        document.Yes.submit()
    });
    mySwiper.on('slidePrevTransitionEnd', function() {
        console.log('Prev');
        document.No.submit()
    });
	</script>

</body>

</html>